<div class="chart-container" style="position: relative; height:35vh; width:30vw">
	<canvas id="myChart"></canvas>
</div>


<script type="text/javascript" src="moment.min.js"></script>
<script type="text/javascript" src="chart.js"></script>
<script type="text/javascript" src="chartjs-plugin-streaming.min.js"></script>


<script>
	var ctx = document.getElementById('myChart').getContext('2d');
	var chart = new Chart(ctx, {

  		type: 'line',
  		data: {
			datasets: [{
				label: 'Humidité',
				borderColor: 'rgb(255, 99, 132)',
				backgroundColor: 'rgba(255, 99, 132, 0.5)',
				data: []
			}]
  		},

		options: {
			title: {
      				display: true,
      				text: "Taux de lumière en temps réel"
    			},
			scales: {
				xAxes: [{
					type: 'realtime',
					realtime: {
						delay:1000,
						onRefresh: function(chart) {
							chart.data.datasets.forEach(function(dataset) {
								dataset.data.push({
									x: Date.now(),
									y: Math.random()
								});
							});
						}
					},
				}]
			}
		}
	});
</script>